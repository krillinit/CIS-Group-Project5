<!DOCTYPE html>
<html>

<!--Hello-->

<head>
    <link rel="stylesheet" href="Phase6.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

</head>

<body>
  <header>
    <!--#8-->
    <nav class="navbar-nav navbar-expand-md navbar-light bg-black sticky-top">

      <a class="navbar-brand" href="#">
        <img src="https://s3-us-west-2.amazonaws.com/phase4assignment/Lakers-icon.png" width="100" height="100" class="d-inline-block align-top" alt="">
        <p class="align-top text-warning font-weight-bold"> Los Angeles Lakers </p>
      </a>

      <button class="navbar-toggler" data-toggle="collapse" data-target="#collapse_target">
        <span class="navbar-toggler-icon"><span>
      </button>
      <div class="collapse navbar-collapse" id="collapse_target">
        <span class="navbar-text"> CIS 3110</span>

        <ul class="navbar-nav">
            <li class="nav-item"> <a class="nav-link" href="https://s3-us-west-2.amazonaws.com/vtranbucket3110/phase2/main.html">Home</a> </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-target="dropdown_target">Site Directory<span class="caret"></span></a>
                <!--#1-->
                <div class="dropdown-menu" aria-labelledby="dropdown_target">
                    <a class="dropdown-item" href="LastPhaseAbout.html">About Us</a>
                    <a class="dropdown-item" href="LastPhase.html">Contact Us</a>
                    <a class="dropdown-item" href="PrivacyPolicy.html">Privacy Policy</a>
                    <a class="dropdown-item" href="TermsofUse.html">Terms of Use</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-target="dropdown_target">Products<span class="caret"></span></a>
                <div class="dropdown-menu" aria-labelledby="dropdown_target">
                    <a class="dropdown-item" href="hatslakers.html">Hats</a>
                    <a class="dropdown-item" href="Jerseys.html">Jerseys</a>
                    <a class="dropdown-item" href="https://s3-us-west-2.amazonaws.com/cis3110fall/p3.html">Shoes</a>
                    <a class="dropdown-item" href="https://s3-us-west-2.amazonaws.com/cis3110fall/p3.html">Misc</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-target="dropdown_target">Profile<span class="caret"></span></a>
                <div class="dropdown-menu" aria-labelledby="dropdown_target">
                    <a class="dropdown-item" href="profile">Profile</a>
                    <a class="dropdown-item" href="create.html">Create a Profile</a>
                    <a class="dropdown-item" href="profile.html">Profile Maintenance</a>
                    <a class="dropdown-item" href="LogIn.html">Login</a>
                </div>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" data-toggle="dropdown" data-target="dropdown_target">Team<span class="caret"></span></a>
                <div class="dropdown-menu" aria-labelledby="dropdown_target">
                    <a class="dropdown-item" href="Roster.html">Roster Page</a>
                    <a class="dropdown-item" href="Schedule.html">Schedules</a>
                    <a class="dropdown-item" href="KBvLJ.html">KB vs LJ</a>
                </div>
            </li>
        </ul>
      </div>


    </nav>
  </header>
  <div class="jumbotron">
    <div class="container">
      <h1 class="text-center"> <strong>Los Angeles Lakers</strong> </h1>
      <h2 class="text-center">Hats</h2>
    </div>
  </div>
  <script>
    var images = ["https://s3.us-east-2.amazonaws.com/thefirstphase1/lakerhat1.jpg",
      "https://s3.us-east-2.amazonaws.com/thefirstphase1/lakerhat2.jpg",
      "https://s3.us-east-2.amazonaws.com/thefirstphase1/lakerhat3.jpg",
      "https://s3.us-east-2.amazonaws.com/thefirstphase1/lakerhat4.jpg",
      "https://s3.us-east-2.amazonaws.com/thefirstphase1/lakerhat5.jpg",
      "https://s3.us-east-2.amazonaws.com/thefirstphase1/lakerhat3.jpg"];
    var caption = ["Magic Johnson", "Jerry West", "Kareem Abdul Jabbar", "Shaquille O Neal", "Kobe Bean Bryant"];
    var description = ["Magic Johson brought showtime to the Lakers. He ignited the rivalry between the Celtics", "Jerry West is the NBA logo. Enough said.",
      "Kareem is still the leader in points as no one else has ever come close to his logetivity.", "Can you dig it?", "He did not flinch when Matt Barnes attempted to fling the ball straight at his face"];

var alerts = document.createElement("div");
          alerts.setAttribute("class", "alert alert-info");

  var tex = document.createTextNode("Welcome to my site");

          alerts.appendChild(tex);

          document.body.appendChild(alerts);

    var detailPageURLAry = [];

 var cookies = loadCookies();

 console.log(images);

 var url; //assign later, make scope global to script


//create div that will store all elements in webpage, this is what allows the grid to work in this code
 var mainDiv = document.createElement("div");
//set this div to be a grid
 mainDiv.setAttribute("class", "gridDiv");
 //put it in the page
document.body.appendChild(mainDiv);



 for (var i = 0; i < images.length; i++) //establish for, 6 items, last index place is 5, if you recall
 {
var idNum = "";

     console.log("image in iteration is " + images[i]);
     url = images[i]; //append to https://s3-us-west-2.amazonaws.com/newbucket3110fall18/phase2/
     urlOfDetailPage = "detail.html?" + "img=" + url + "&caption=" + caption[i] + "&description=" + description[i] + "&favorite=" + cookies[i];  //where you will navigate, once you press the image, will send the detail page the img to analyze
     //https://github.com/stefanbund/311/blob/16b1bb98a9f3c7a10663c2a4f87651bbf3508e17/prior%20terms/spring%202018%20materials/unit%202%20URL%20parameters/urlOrigin.html#L31   var imgDiv = document.createElement("div"); //divs to house img
     detailPageURLAry[i] = urlOfDetailPage;

//creates div for image
     var imgDiv = document.createElement("div"); //make a div
     imgDiv.setAttribute("class", "border border-warning"); //so it displays at 30% width, margin and padding https://css-tricks.com/almanac/properties/o/object-fit/
     var imgInDiv = document.createElement("img");
     imgInDiv.setAttribute("class", "pctImg"); //fit to div
     imgInDiv.setAttribute("src", url); //src to url, above, determined by for i

//creates paragraph
     var pTitle = document.createElement("p");
     pTitle.setAttribute("class", "center");
     var descriptionI = document.createTextNode(caption[i]);
     pTitle.appendChild(descriptionI);//create paragraph with text

//creates link
     var link = document.createElement("a");
     link.setAttribute("href", urlOfDetailPage); // so you'll navigate to the url

     var btnUnfav = document.createElement("BUTTON");
     btnUnfav.setAttribute("class", "btn btn-outline-danger btn-secondary");
     btnUnfav.setAttribute("name", i);
     btnUnfav.setAttribute("id", "fav" + i + i);
     btnUnfav.addEventListener("click", function () { unFavObj(this.name); })
     var q = document.createTextNode("Un-Favorite");

     btnUnfav.appendChild(q);
     var btnDiv = document.createElement("div");
     btnDiv.setAttribute("class", "btn-group btn-group-md");
     if (cookies[i] == 0) {
         btnUnfav.setAttribute("disabled", "true");
         //create button 1 (favorite)
         var btnFav = document.createElement("BUTTON");
         btnFav.setAttribute("class", "btn btn-outline-success btn-secondary");
         btnFav.setAttribute("name", i);
 idNum = "fav" + i;
         btnFav.setAttribute("id", idNum);
         btnFav.setAttribute("data-toggle", "tooltip");
         btnFav.setAttribute("data-placement", "top");
         btnFav.setAttribute("title", "Use this button to favorite the object.");
 btnFav.addEventListener("click", function(){favObj(this.name);})




         //create text on favorite button
         var t = document.createTextNode("Favorite");
 var link2 = link;
         btnFav.appendChild(t);
         //btnFav.appendChild(link2);
         //create div to put button in (helps with page layout)



         btnDiv.appendChild(btnFav);

     } else {
           var icon = document.createElement("BUTTON");
          icon.setAttribute("class", "badge");

  var tes = document.createTextNode("This is your Fav");

          icon.appendChild(tes);

          btnDiv.appendChild(icon);

  var alerts = document.createElement("div");
          alerts.setAttribute("class", "alert alert-success");

  var tex = document.createTextNode("Thank you for favoriting");

          alerts.appendChild(tex);

          document.body.appendChild(alerts);

     }

//create unfave button


     btnDiv.appendChild(btnUnfav);

     link.appendChild(imgInDiv); //make the image the link
     imgDiv.appendChild(link);//place the link inside of each div

//this div will contain all the elements that form 1 grid box
     var bigDiv = document.createElement("div");
     bigDiv.setAttribute("class", "card-body");

//order matters, top to bottom - left to right
//put the title first then the image then the button
     bigDiv.appendChild(pTitle);
     bigDiv.appendChild(imgDiv);
     bigDiv.appendChild(btnDiv);




     mainDiv.appendChild(bigDiv);//then appd to body, document.body.appendChild

 }

 function loadCookies() {
     var cArray = ["", "", "", "",""];
     for (var i = 0; i < images.length; i++) {
         if (getCookie("cookie" + i)) {
             cArray[i] = 1;
             console.log(i);
             console.log(cArray);
         }
         else {
             cArray[i] = 0;
             console.log(cArray);
         }
     }
     return cArray;
 }

 function favObj(btnName) {
     var cname = "cookie" + btnName;

     checkCookie(cname);
var temp = detailPageURLAry[btnName].replace("favorite=0", "favorite=1");
console.log(detailPageURLAry[btnName]);
window.location.href = temp;
 }

 function unFavObj(btnName) {
     var cname = "cookie" + btnName;
     console.log("made it");
     deleteCookie(cname);
location.reload();
console.log("reload it");
 }

 function setCookie(cname, cvalue, exdays) {
     var d = new Date();
     d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
     var expires = "expires=" + d.toGMTString();
     document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
 }

 function getCookie(cname) {
     var name = cname + "=1";
     var ca = document.cookie.split(';');
     for (var i = 0; i < ca.length; i++) {
         var c = ca[i];
         while (c.charAt(0) == ' ') {
             c = c.substring(1);
         }
         if (c == name) {
             return true;
         }
     }
     return false;
 }

 function checkCookie(cname) {
     var status = getCookie(cname);
     if (status) {
         return true;
     } else {

             setCookie(cname, 1, .1);
         return false;
     }
 }

function deleteCookie(cname){
     document.cookie = cname + "=" + 0 + ";expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;";

 }

  </script>






<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>
